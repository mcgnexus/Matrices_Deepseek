<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Avanzada de Matrices - JavaScript Puro</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ§® Calculadora Avanzada de Matrices</h1>
        <p class="subtitle">JavaScript puro - Sin dependencias externas - CÃ¡lculos matemÃ¡ticos completos</p>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('basic', event)">Operaciones BÃ¡sicas</button>
            <button class="tab" onclick="showTab('advanced', event)">AnÃ¡lisis Avanzado</button>
            <button class="tab" onclick="showTab('operations', event)">Operaciones Duales</button>
            <button class="tab" onclick="showTab('systems', event)">Sistemas Lineales</button>
        </div>

        <!-- Tab: Operaciones BÃ¡sicas -->
        <div id="basic" class="tab-content active">
            <div class="section">
                <h3>1. Crear Matriz</h3>
                <div class="control-group">
                    <label>TamaÃ±o:</label>
                    <select id="matrixSize" onchange="generateMatrix()">
                        <option value="2">2Ã—2</option>
                        <option value="3" selected>3Ã—3</option>
                        <option value="4">4Ã—4</option>
                        <option value="5">5Ã—5</option>
                        <option value="6">6Ã—6</option>
                    </select>
                </div>
                <div id="matrixContainer"></div>
                <div style="text-align: center; margin-top: 15px;">
                    <button onclick="generateMatrix()">ğŸ”„ Nueva Matriz</button>
                    <button onclick="fillRandom()">ğŸ² Llenar Aleatorio</button>
                    <button onclick="fillIdentity()">ğŸ†” Matriz Identidad</button>
                    <button onclick="fillZeros()">â­• Matriz Ceros</button>
                    <button onclick="copyMatrixToLatex(currentMatrix, 'A')" class="success">ğŸ“‹ Copiar LaTeX</button>
                </div>
            </div>

            <div class="section">
                <h3>2. CÃ¡lculos Fundamentales</h3>
                <div style="text-align: center;">
                    <button onclick="calculateDeterminantDisplay()">ğŸ“Š Determinante</button>
                    <button onclick="calculateTrace()">ğŸ“ˆ Traza</button>
                    <button onclick="calculateRank()">ğŸ“ Rango</button>
                    <button onclick="calculateInverse()">ğŸ”„ Inversa</button>
                    <button onclick="transposeMatrixDisplay()">â†—ï¸ Transpuesta</button>
                </div>
            </div>
        </div>

        <!-- Tab: AnÃ¡lisis Avanzado -->
        <div id="advanced" class="tab-content">
            <div class="section">
                <h3>AnÃ¡lisis Espectral y Propiedades</h3>
                <div style="text-align: center;">
                    <button onclick="calculateEigenvalues()">Î» Valores Propios</button>
                    <button onclick="checkOrthogonal()">âŸ‚ Es Ortogonal</button>
                    <button onclick="checkSymmetric()">âš–ï¸ Es SimÃ©trica</button>
                </div>
            </div>

            <div class="section">
                <h3>Factorizaciones</h3>
                <div style="text-align: center;">
                    <button onclick="luDecomposition()">LU DescomposiciÃ³n</button>
                    <button onclick="qrDecomposition()">QR DescomposiciÃ³n</button>
                    <button onclick="choleskyDecomposition()">Cholesky</button>
                </div>
            </div>
        </div>

        <!-- Tab: Operaciones Duales -->
        <div id="operations" class="tab-content">
            <div class="section">
                <h3>Operaciones con Dos Matrices</h3>
                <div class="control-group">
                    <label>TamaÃ±o Matriz B:</label>
                    <select id="matrixSizeB" onchange="generateMatrixB()">
                        <option value="2">2Ã—2</option>
                        <option value="3" selected>3Ã—3</option>
                        <option value="4">4Ã—4</option>
                        <option value="5">5Ã—5</option>
                        <option value="6">6Ã—6</option>
                    </select>
                    <button onclick="generateMatrixB()">Generar Matriz B</button>
                </div>
                
                <div class="matrix-container">
                    <div>
                        <h4>Matriz A</h4>
                        <div id="matrixADisplay"></div>
                        <button onclick="copyMatrixToLatex(currentMatrix, 'A')" class="success" style="margin-top: 10px;">ğŸ“‹ Copiar LaTeX A</button>
                    </div>
                    <div class="operation-symbol" id="operationSymbol">+</div>
                    <div>
                        <h4>Matriz B</h4>
                        <div id="matrixBContainer"></div>
                        <button onclick="copyMatrixToLatex(currentMatrixB, 'B')" class="success" style="margin-top: 10px;">ğŸ“‹ Copiar LaTeX B</button>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="addMatrices()">â• Sumar A + B</button>
                    <button onclick="subtractMatrices()">â– Restar A - B</button>
                    <button onclick="multiplyMatrices()">âœ–ï¸ Multiplicar A Ã— B</button>
                    <button onclick="calculateCommutator()">ğŸ”„ [A,B] = AB - BA</button>
                </div>
            </div>
        </div>

        <!-- Tab: Sistemas Lineales -->
        <div id="systems" class="tab-content">
            <div class="section">
                <h3>Resolver Sistemas Lineales Ax = b</h3>
                <div class="control-group">
                    <button onclick="generateSystemVector()">Generar vector b</button>
                    <button onclick="fillRandomVector()">Vector b aleatorio</button>
                </div>
                
                <div class="matrix-container">
                    <div>
                        <h4>Matriz A (coeficientes)</h4>
                        <div id="systemMatrixDisplay"></div>
                        <button onclick="copyMatrixToLatex(currentMatrix, 'A')" class="success" style="margin-top: 10px;">ğŸ“‹ Copiar LaTeX A</button>
                    </div>
                    <div class="operation-symbol">Ã—</div>
                    <div>
                        <h4>Vector x</h4>
                        <div style="font-size: 1.2em; margin: 20px;">
                            [xâ‚, xâ‚‚, ..., xâ‚™]áµ€
                        </div>
                    </div>
                    <div class="operation-symbol">=</div>
                    <div>
                        <h4>Vector b</h4>
                        <div id="vectorBContainer"></div>
                        <button onclick="copyVectorToLatex(vectorB, 'b')" class="success" style="margin-top: 10px;">ğŸ“‹ Copiar LaTeX b</button>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="solveSystem()">ğŸ¯ Resolver Sistema (LU)</button>
                    <button onclick="solveSystemCramer()">ğŸ“ Regla de Cramer</button>
                </div>
            </div>
        </div>

        <div id="result"></div>
        <div id="steps"></div>
        <div id="latexOutput"></div>

        <!-- SecciÃ³n de ayuda con chatbot especializado -->
        <div class="llm-helper">
            <h3>ğŸ¤– Â¿Necesitas AnÃ¡lisis MÃ¡s Profundos?</h3>
            <p>Para cÃ¡lculos avanzados, demostraciones detalladas, o anÃ¡lisis especializados como:</p>
            <ul style="text-align: left; display: inline-block;">
                <li>DiagonalizaciÃ³n completa de matrices</li>
                <li>DescomposiciÃ³n en valores singulares (SVD)</li>
                <li>MÃ©todos iterativos para valores propios</li>
                <li>AnÃ¡lisis de estabilidad numÃ©rica</li>
                <li>InterpretaciÃ³n de resultados complejos</li>
                <li>Aplicaciones especÃ­ficas en ingenierÃ­a/fÃ­sica</li>
                <li>Demostraciones paso a paso con LaTeX</li>
            </ul>
            <br>
            <a href="https://gemini.google.com/" target="_blank" class="llm-link">ğŸ§  Consultar Asistente IA</a>
            <p style="font-size: 0.9em; margin-top: 15px; color: #666;">
                ğŸ’¡ Tip: Usa los botones "Copiar LaTeX" para exportar matrices y vectores en formato compatible con LaTeX.
            </p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>