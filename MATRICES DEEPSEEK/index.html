<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Avanzada de Matrices - JavaScript Puro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üßÆ Calculadora Avanzada de Matrices</h1>
            <p class="subtitle">JavaScript puro - Sin dependencias externas - C√°lculos matem√°ticos completos</p>
        </header>
        
        <nav class="tabs">
            <button class="tab active" onclick="showTab('basic', event)">Operaciones B√°sicas</button>
            <button class="tab" onclick="showTab('advanced', event)">An√°lisis Avanzado</button>
            <button class="tab" onclick="showTab('operations', event)">Operaciones Duales</button>
            <button class="tab" onclick="showTab('systems', event)">Sistemas Lineales</button>
        </nav>

        <main>
            <!-- Tab: Operaciones B√°sicas -->
            <div id="basic" class="tab-content active">
                <div class="section">
                    <h3>1. Crear Matriz</h3>
                    <div class="control-group">
                        <label for="matrixSize">Tama√±o:</label>
                        <select id="matrixSize" onchange="generateMatrix()">
                            <option value="2">2√ó2</option>
                            <option value="3" selected>3√ó3</option>
                            <option value="4">4√ó4</option>
                            <option value="5">5√ó5</option>
                            <option value="6">6√ó6</option>
                        </select>
                    </div>
                    <div id="matrixContainer"></div>
                    <div class="button-group">
                        <button onclick="generateMatrix()">üîÑ Nueva Matriz</button>
                        <button onclick="fillRandom()">üé≤ Llenar Aleatorio</button>
                        <button onclick="fillIdentity()">üÜî Matriz Identidad</button>
                        <button onclick="fillZeros()">‚≠ï Matriz Ceros</button>
                        <button onclick="copyMatrixToLatex(currentMatrix, 'A')" class="success">üìã Copiar LaTeX</button>
                    </div>
                </div>

                <div class="section">
                    <h3>2. C√°lculos Fundamentales</h3>
                    <div class="button-group">
                        <button onclick="calculateDeterminantDisplay()">üìä Determinante</button>
                        <button onclick="calculateTrace()">üìà Traza</button>
                        <button onclick="calculateRank()">üìè Rango</button>
                        <button onclick="calculateInverse()">üîÑ Inversa</button>
                        <button onclick="transposeMatrixDisplay()">‚ÜóÔ∏è Transpuesta</button>
                    </div>
                </div>
            </div>

            <!-- Tab: An√°lisis Avanzado -->
            <div id="advanced" class="tab-content">
                <div class="section">
                    <h3>An√°lisis Espectral y Propiedades</h3>
                    <div class="button-group">
                        <button onclick="calculateEigenvalues()">Œª Valores Propios</button>
                        <button onclick="checkOrthogonal()">‚üÇ Es Ortogonal</button>
                        <button onclick="checkSymmetric()">‚öñÔ∏è Es Sim√©trica</button>
                    </div>
                </div>

                <div class="section">
                    <h3>Factorizaciones</h3>
                    <div class="button-group">
                        <button onclick="luDecomposition()">LU Descomposici√≥n</button>
                        <button onclick="qrDecomposition()">QR Descomposici√≥n</button>
                        <button onclick="choleskyDecomposition()">Cholesky</button>
                    </div>
                </div>
            </div>

            <!-- Tab: Operaciones Duales -->
            <div id="operations" class="tab-content">
                <div class="section">
                    <h3>Operaciones con Dos Matrices</h3>
                    <div class="control-group">
                        <label for="matrixSizeB">Tama√±o Matriz B:</label>
                        <select id="matrixSizeB" onchange="generateMatrixB()">
                            <option value="2">2√ó2</option>
                            <option value="3" selected>3√ó3</option>
                            <option value="4">4√ó4</option>
                            <option value="5">5√ó5</option>
                            <option value="6">6√ó6</option>
                        </select>
                        <button onclick="generateMatrixB()">Generar Matriz B</button>
                    </div>
                    
                    <div class="matrix-container">
                        <div>
                            <h4>Matriz A</h4>
                            <div id="matrixADisplay"></div>
                            <button onclick="copyMatrixToLatex(currentMatrix, 'A')" class="success" style="margin-top: 10px;">üìã Copiar LaTeX A</button>
                        </div>
                        <div class="operation-symbol" id="operationSymbol">+</div>
                        <div>
                            <h4>Matriz B</h4>
                            <div id="matrixBContainer"></div>
                            <button onclick="copyMatrixToLatex(currentMatrixB, 'B')" class="success" style="margin-top: 10px;">üìã Copiar LaTeX B</button>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button onclick="addMatrices()">‚ûï Sumar A + B</button>
                        <button onclick="subtractMatrices()">‚ûñ Restar A - B</button>
                        <button onclick="multiplyMatrices()">‚úñÔ∏è Multiplicar A √ó B</button>
                        <button onclick="calculateCommutator()">üîÑ [A,B] = AB - BA</button>
                    </div>
                </div>
            </div>

            <!-- Tab: Sistemas Lineales -->
            <div id="systems" class="tab-content">
                <div class="section">
                    <h3>Resolver Sistemas Lineales Ax = b</h3>
                    <div class="control-group">
                        <button onclick="generateSystemVector()">Generar vector b</button>
                        <button onclick="fillRandomVector()">Vector b aleatorio</button>
                    </div>
                    
                    <div class="matrix-container">
                        <div>
                            <h4>Matriz A (coeficientes)</h4>
                            <div id="systemMatrixDisplay"></div>
                            <button onclick="copyMatrixToLatex(currentMatrix, 'A')" class="success" style="margin-top: 10px;">üìã Copiar LaTeX A</button>
                        </div>
                        <div class="operation-symbol">√ó</div>
                        <div>
                            <h4>Vector x</h4>
                            <div style="font-size: 1.2em; margin: 20px;">
                                [x‚ÇÅ, x‚ÇÇ, ..., x‚Çô]·µÄ
                            </div>
                        </div>
                        <div class="operation-symbol">=</div>
                        <div>
                            <h4>Vector b</h4>
                            <div id="vectorBContainer"></div>
                            <button onclick="copyVectorToLatex(vectorB, 'b')" class="success" style="margin-top: 10px;">üìã Copiar LaTeX b</button>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button onclick="solveSystem()">üéØ Resolver Sistema (LU)</button>
                        <button onclick="solveSystemCramer()">üìê Regla de Cramer</button>
                    </div>
                </div>
            </div>

            <div id="result"></div>
            <div id="steps"></div>
            <div id="latexOutput"></div>

            <!-- Secci√≥n de ayuda con chatbot especializado -->
            <div class="llm-helper">
                <h3>ü§ñ ¬øNecesitas An√°lisis M√°s Profundos?</h3>
                <p>Para c√°lculos avanzados, demostraciones detalladas, o an√°lisis especializados como:</p>
                <ul>
                    <li>Diagonalizaci√≥n completa de matrices</li>
                    <li>Descomposici√≥n en valores singulares (SVD)</li>
                    <li>M√©todos iterativos para valores propios</li>
                    <li>An√°lisis de estabilidad num√©rica</li>
                    <li>Interpretaci√≥n de resultados complejos</li>
                    <li>Aplicaciones espec√≠ficas en ingenier√≠a/f√≠sica</li>
                    <li>Demostraciones paso a paso con LaTeX</li>
                </ul>
                <br>
                <a href="https://gemini.google.com/" target="_blank" class="llm-link">üß† Consultar Asistente IA</a>
                <p class="tip">
                    üí° Tip: Usa los botones "Copiar LaTeX" para exportar matrices y vectores en formato compatible con LaTeX.
                </p>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>